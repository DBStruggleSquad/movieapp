<!doctype html>
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <link href="https://s3.amazonaws.com/codecademy-content/projects/bootstrap.min.css" rel="stylesheet" />
    <link href='https://fonts.googleapis.com/css?family=Roboto:500,300,700,400' rel='stylesheet' type='text/css'>
    <link href="static/css/filmshack.css" rel="stylesheet" />
    <link href='https://fonts.googleapis.com/css?family=Yesteryear' rel='stylesheet' type='text/css'>       

    <script src="/static/bower_components/jquery/dist/jquery.js"></script>
      <script src="/static/bower_components/flexslider/jquery.flexslider.js"></script>
      <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.5/angular.min.js"></script>
      <script src="/static/bower_components/angular-flexslider/angular-flexslider.js"></script>
      <script src="http://netdna.bootstrapcdn.com/bootstrap/3.0.3/js/bootstrap.min.js"></script>

    <!-- For image uploaded -->
    <script src="/static/bower_components/ng-file-upload-bower-9.0.9/ng-file-upload-shim.min.js"></script> <!-- for no html5 browsers support -->
    <script src="/static/bower_components/ng-file-upload-bower-9.0.9/ng-file-upload.min.js"></script>
    <script src="/static/bower_components/ng-file-upload-bower-9.0.9/ng-file-upload-shim.js"></script> <!-- for no html5 browsers support -->
    <script src="/static/bower_components/ng-file-upload-bower-9.0.9/ng-file-upload.js"></script>
    <script src="/static/bower_components/ng-file-upload-bower-9.0.9/ng-file-upload-all.js"></script>
    <script src="/static/bower_components/ng-file-upload-bower-9.0.9/ng-file-upload-all.min.js"></script>
  </head>
  <body ng-app="myApp">
    {% raw %}
    <!-- Header, indicates where the user is located. -->
    <div class="header">
        <div class="location">Movie Profile</div>
        <div class="filmshack-logo">filmshack</div>
        <div class="notifications"><img ng-src="/static/img/notifications-icon.svg"></img></div>
    </div>

    <div class="enclosure" ng-controller="profile">
      <!-- User-Info, offers user details. -->
      <div class="movie-info" ng-include="'/static/directives/movieInfo.html'"></div>

      <!-- Profile-Tabs, allow navigation in profile.-->
      <div class="profile-tabs">
        <div ng-repeat="tab in tabs" ng-class="{active:isActiveTab(tab.url)}" ng-click="onClickTab(tab)" ><img src="/static/img/active-{{ tab.title | lowercase }}-icon.svg"/> {{ tab.title }}</div>
      </div>

        <div class="content">
            <div ng-include="currentTab"></div>
        </div>

  <!--    MODAL   -->

      <modal title="Add {{ movie.name }} to {{ selectedList }}" visible="showModal">
		
        <form role="form" >
          <div class="form-group">
            <label> {{form.postTitle.label}} </label>
            <input type="text" class="form-control" ng-model="data2send.title" placeholder="Title..." />
            <label for="list">Say something about this movie:</label>
            <input type="text" class="form-control" ng-model="data2send.description" placeholder="Description..." />
          </div>
          <button type="submit" ng-click="addMovie2List(movie.name, selectedList)"class="btn btn-default">Add</button> 
          <button type="cancel" ng-click="toggleModal()" class="btn btn-default">Cancel</button>
          
        </form>
        
      </modal>    

  <!--    REVIEW MODAL   -->

      <modal title="Add a Review to {{ movie.name }}" visible="showReviewModal">

        <form role="form">
          <div class="form-group">
            <label for="list">Review Title:</label>
            <input type="text" class="form-control" ng-model="data2send.description" placeholder="Title..." />
            <label for="list">Star Rating:</label>
            <br>
            <select>
              <option value="0">0</option>
              <option value="1">1</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
              <option value="5">5</option>
            </select> 
            <br>
            <label for="list">Review:</label>
            <input type="text" class="form-control" ng-model="data2send.review" placeholder="Talk about your experience with this movie..." />                
          </div>
          <button type="submit" ng-click="addMovie2List(movie.name, selectedList)"class="btn btn-default">Add</button> 
          <button type="cancel" ng-click="toggleReviewModal()" class="btn btn-default">Cancel</button>
        </form>

        
      </modal>          

    </div>
  
  <!--  INFO TAB -->
    <script type="text/ng-template" id="info.tpl.html">
      <div class="movie-synopsis">
        <h4>Synopsis</h4>
        <div class="movie-synopsis-content">{{ movie.synopsis }}</div>
      </div>           

      <div class="movie-cast">
        <h4>Cast</h4>
        <div class="movie-cast-content" ng-repeat="cast in movie.cast">
          <a href="#"><img ng-src="{{ cast.img }}"/><br>{{ cast.name }}</a>
        </div>        
      </div>        
    </script>
    
    <!--  REVIEW TAB -->
    <script type="text/ng-template" id="reviews.tpl.html">
    <div class="create-review">
      <button ng-click="toggleReviewModal()">Add a Review</button>
    </div>
    <div class="activity-post" ng-repeat="review in movieReviews.movies">
      <div>
        <span>
          <div class="profile-picture-thmb"><img src="/static/img/profile-picture-placeholder.svg"/></div>
            <div class="review-post-content">
              <a href="#">{{ review.reviewer }}</a>
             </div>
        </span>
        <span>
          <div class="review-title"> {{review.Review_title}} </div>
          <div class="user-rating"><img ng-src="/static/img/star-icon.svg" ng-repeat="i in getReviewerRating(review.Rating) track by $index"/> Rating: {{ review.Rating }}</div>
          <div class="review-text"> {{review.review}} </div>
        </span>
      </div>    
    </script>

    <!-- Navigation, contains buttons that navigate user through app.-->
    <nav class="navigation" ng-include="'/static/directives/navigation.html'"></nav>

    <!-- Modules -->
    <script src="../static/js/app.js"></script>

    <!-- Controllers -->
    <script src="../static/js/controllers/movieController.js"></script>
    <script src="/static/js/controllers/navigationActions.js"></script>

    <!-- Directives -->
    <script src="/static/js/directives/activityPost.js"></script>
    <script src="/static/js/directives/installApp.js"></script>
    <script src="static/directives/modalDirective.js"></script>

    {% endraw %}
  </body>
</html>
